# **Lyrics Typing Effect**

이 프로젝트는 BPM 값에 기반하여 음악과 가사를 동기화해 출력하는 콘솔 타이핑 프로그램입니다.
사용자가 설정한 BPM으로 문자 출력 딜레이를 계산하여, 음악 재생과 동시에 가사가 한 글자씩 자연스럽게 나타나도록 구현되어 있습니다.

# 만든 이유
> 파이썬으로 가사 타이핑 효과를 만드는 릴스를 보고 삘받아서 만들었습니다.

## 필수 패키지
### simpleaudio
> WAV 파일 재생을 위한 오디오 라이브러리입니다.

### 필수 표준 라이브러리
#### threading
> 음악 재생과 가사 출력을 동시에 실행하기 위한 스레드 기능을 제공합니다.

#### time
> BPM 기반 딜레이 계산과 문자 출력 텀 조절에 사용됩니다.

## 주요 구현 포인트
**1. **BPM 기반 딜레이 계산****

프로그램은 BPM(분당 박자 수)을 바탕으로 한 박자 길이를 계산합니다.
한 박자 시간은 60 / BPM이며, 한 글자를 얼마만큼의 박자에 배치할지에 따라 최종 딜레이가 결정됩니다.
이를 통해 가사가 음악 템포에 맞도록 자연스럽게 출력되도록 구현되어 있습니다.

**2. 시퀀스(Sequence) 기반 동시 실행 구조**

이 프로젝트의 핵심은 음악 재생과 가사 타이핑을 동시에 실행하는 시퀀스 구조에 있습니다.
이를 위해 멀티스레딩(threading) 을 사용하여 다음 순서로 동작합니다.

1. 가사 파일을 읽어들입니다.

2. 가사 출력 함수를 별도의 스레드로 실행합니다.

3. 메인 스레드에서는 음악 파일(WAV)을 재생합니다.

> 두 작업이 동시에 진행되며, 서로 영향을 주지 않습니다.

가사 스레드가 종료될 때까지 join()을 통해 안정적으로 프로그램을 마무리합니다.

이 구조 덕분에 음악이 재생되는 동안 가사가 끊기지 않고 박자에 맞춰 출력되는 시퀀스가 성립됩니다.

## 예시 설명

본 프로젝트에서는 하로로의 「사랑하게 될 거야」 하이라이트 부분을 예시 가사로 사용했습니다.
예시 가사를 lyrics.txt에 입력하고, 음악 파일(test.wav)을 준비하면 프로그램 실행 시 BPM 템포에 맞춰 가사를 한 글자씩 출력합니다.

## 파일 구성
```
project/
│── main.py
│── lyrics.txt
└── test.wav
```

- lyrics.txt : 출력될 가사 파일

- test.wav : 재생할 음악 파일(WAV 형식)

- main.py : 실행 스크립트


## 실행 방법

1. 필요한 패키지를 설치합니다.
```
pip install simpleaudio
```
2. lyrics.txt와 test.wav를 프로젝트 폴더에 배치합니다.

3. python main.py로 프로그램을 실행합니다.

## 참고 사항

- WAV 파일만 재생 가능합니다.
- ~~playsound는 사지방에서 설치가 안되서 안 썼습니다.~~
- BPM 값이 높을수록 가사가 빨리 출력되고, 낮을수록 천천히 출력됩니다.
- char_per_beat 값을 조정하여 가사 출력 밀도를 세밀하게 제어할 수 있습니다.

## 다음 업데이트
- 절대시간 기반(Absolute Time Sync) 타이핑
- 단어/문장 단위 타임스탬프 방식 (LRC 방식)
- 글자 길이 기반 가변 딜레이 방식
- 실제 음악 파형 분석 기반 자동 싱크

글자 길이 기반 가변 딜레이 방식을 아마도 다음버전으로 업뎃할 것 같습니다. 글자의 특성에 따라 딜레이를 조절하는건데 나머지 방식은 귀찮습니다!
